(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{7480:function(e,a,s){"use strict";s.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(2898).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},9883:function(e,a,s){"use strict";s.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9594:function(e,a,s){Promise.resolve().then(s.bind(s,3852))},3852:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return b}});var l=s(7437),r=s(2265),t=s(2406),i=s(4033),n=s(826),o=s(8253),d=s(7480),c=s(6142),m=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,m.Z)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),p=(0,m.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var u=s(2549),x=s(9883),f=s(5925),g=s(1232),j=s(6112);function b(){let{user:e,isAuthenticated:a}=(0,t.useAuth)(),s=(0,i.useRouter)(),[m,b]=(0,r.useState)(!1),[N,v]=(0,r.useState)({title:"",purpose:"venda",price:0,neighborhood:"",address:{street:"",number:"",complement:"",city:"Uberl\xe2ndia",state:"MG",zipCode:""},bedrooms:0,bathrooms:0,parkingSpaces:0,landSize:0,totalArea:0,longDescription:"",details:[""],features:[""]});if((0,r.useEffect)(()=>{{let e=window.location.pathname,a=sessionStorage.getItem("previousPath");a&&a!==e&&sessionStorage.setItem("lastPreviousPath",a),sessionStorage.setItem("previousPath",e)}},[]),!a)return(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(g.default,{}),(0,l.jsx)("div",{className:"bg-gray-50 py-8",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsx)(o.Z,{className:"h-12 w-12 text-primary-600"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Fa\xe7a Login para Continuar"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Voc\xea precisa estar logado para cadastrar um im\xf3vel. Ap\xf3s o login, voc\xea poder\xe1 enviar as informa\xe7\xf5es do seu im\xf3vel para nossas corretoras."}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,l.jsx)("button",{onClick:()=>s.push("/login"),className:"btn-primary",children:"Fazer Login"}),(0,l.jsx)("button",{onClick:()=>s.push("/register"),className:"btn-secondary",children:"Criar Conta"})]})]})})}),(0,l.jsx)(j.default,{})]});let y=e=>{let{name:a,value:s}=e.target;if(a.includes(".")){let[e,l]=a.split(".");v(a=>({...a,[e]:{...a[e],[l]:s}}))}else v(e=>({...e,[a]:s}))},C=e=>{let{name:a,value:s}=e.target,l=""===s?0:Number(s);if(a.includes(".")){let[e,s]=a.split(".");v(a=>({...a,[e]:{...a[e],[s]:l}}))}else v(e=>({...e,[a]:l}))},k=(e,a,s)=>{v(l=>({...l,[a]:l[a].map((a,l)=>l===e?s:a)}))},w=e=>{v(a=>({...a,[e]:[...a[e],""]}))},F=(e,a)=>{v(s=>({...s,[a]:s[a].filter((a,s)=>s!==e)}))},S=async e=>{if(e.preventDefault(),!N.title||!N.neighborhood||N.price<=0){f.default.error("Preencha os campos obrigat\xf3rios");return}try{b(!0);let e={...N,details:N.details.filter(e=>""!==e.trim()),features:N.features.filter(e=>""!==e.trim())};await n.h.post("/properties/submit",e),f.default.success("Im\xf3vel cadastrado com sucesso! Aguardando aprova\xe7\xe3o."),s.push("/")}catch(s){var a,l;let e=(null===(l=s.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message)||"Erro ao cadastrar im\xf3vel";f.default.error(e)}finally{b(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(g.default,{}),(0,l.jsx)("div",{className:"bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsx)(o.Z,{className:"h-12 w-12 text-primary-600"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cadastrar Im\xf3vel"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Preencha as informa\xe7\xf5es do seu im\xf3vel para an\xfancio"})]}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("form",{onSubmit:S,className:"space-y-8",children:[(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(d.Z,{className:"h-5 w-5 mr-2"}),"Informa\xe7\xf5es B\xe1sicas"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"title",className:"form-label",children:"T\xedtulo do An\xfancio *"}),(0,l.jsx)("input",{type:"text",id:"title",name:"title",value:N.title,onChange:y,className:"input-field",placeholder:"Ex: Casa com 3 quartos em Pinheiros",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"purpose",className:"form-label",children:"Finalidade *"}),(0,l.jsxs)("select",{id:"purpose",name:"purpose",value:N.purpose,onChange:y,className:"input-field",required:!0,children:[(0,l.jsx)("option",{value:"venda",children:"Venda"}),(0,l.jsx)("option",{value:"aluguel",children:"Aluguel"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"price",className:"form-label",children:"Pre\xe7o (R$) *"}),(0,l.jsx)("input",{type:"number",id:"price",name:"price",value:N.price||"",onChange:C,className:"input-field",placeholder:"0,00",min:"0",step:"0.01",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"neighborhood",className:"form-label",children:"Bairro *"}),(0,l.jsx)("input",{type:"text",id:"neighborhood",name:"neighborhood",value:N.neighborhood,onChange:y,className:"input-field",placeholder:"Ex: Pinheiros, Vila Madalena",required:!0})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(c.Z,{className:"h-5 w-5 mr-2"}),"Endere\xe7o"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"form-group md:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"address.street",className:"form-label",children:"Rua"}),(0,l.jsx)("input",{type:"text",id:"address.street",name:"address.street",value:N.address.street,onChange:y,className:"input-field",placeholder:"Nome da rua"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"address.number",className:"form-label",children:"N\xfamero"}),(0,l.jsx)("input",{type:"text",id:"address.number",name:"address.number",value:N.address.number,onChange:y,className:"input-field",placeholder:"123"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"address.complement",className:"form-label",children:"Complemento"}),(0,l.jsx)("input",{type:"text",id:"address.complement",name:"address.complement",value:N.address.complement,onChange:y,className:"input-field",placeholder:"Apto 45, Casa 2"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"address.zipCode",className:"form-label",children:"CEP"}),(0,l.jsx)("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:N.address.zipCode,onChange:y,className:"input-field",placeholder:"01234-567"})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(h,{className:"h-5 w-5 mr-2"}),"Caracter\xedsticas"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"bedrooms",className:"form-label",children:"Quartos *"}),(0,l.jsx)("input",{type:"number",id:"bedrooms",name:"bedrooms",value:N.bedrooms||"",onChange:C,className:"input-field",placeholder:"0",min:"0",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"bathrooms",className:"form-label",children:"Banheiros *"}),(0,l.jsx)("input",{type:"number",id:"bathrooms",name:"bathrooms",value:N.bathrooms||"",onChange:C,className:"input-field",placeholder:"0",min:"0",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"parkingSpaces",className:"form-label",children:"Vagas de Garagem"}),(0,l.jsx)("input",{type:"number",id:"parkingSpaces",name:"parkingSpaces",value:N.parkingSpaces||"",onChange:C,className:"input-field",placeholder:"0",min:"0"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"totalArea",className:"form-label",children:"\xc1rea Total (m\xb2)"}),(0,l.jsx)("input",{type:"number",id:"totalArea",name:"totalArea",value:N.totalArea||"",onChange:C,className:"input-field",placeholder:"0",min:"0"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"landSize",className:"form-label",children:"Tamanho do Terreno (m\xb2)"}),(0,l.jsx)("input",{type:"number",id:"landSize",name:"landSize",value:N.landSize||"",onChange:C,className:"input-field",placeholder:"0",min:"0"})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,l.jsx)(p,{className:"h-5 w-5 mr-2"}),"Descri\xe7\xe3o"]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"longDescription",className:"form-label",children:"Descri\xe7\xe3o Detalhada"}),(0,l.jsx)("textarea",{id:"longDescription",name:"longDescription",value:N.longDescription,onChange:y,className:"input-field",rows:4,placeholder:"Descreva detalhadamente o im\xf3vel, caracter\xedsticas especiais, localiza\xe7\xe3o, etc."})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalhes Adicionais"}),N.details.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("input",{type:"text",value:e,onChange:e=>k(a,"details",e.target.value),className:"input-field flex-1",placeholder:"Ex: Piscina, Academia, Portaria 24h"}),N.details.length>1&&(0,l.jsx)("button",{type:"button",onClick:()=>F(a,"details"),className:"text-red-600 hover:text-red-800",children:(0,l.jsx)(u.Z,{className:"h-5 w-5"})})]},a)),(0,l.jsxs)("button",{type:"button",onClick:()=>w("details"),className:"btn-secondary text-sm",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Detalhe"]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Caracter\xedsticas Especiais"}),N.features.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("input",{type:"text",value:e,onChange:e=>k(a,"features",e.target.value),className:"input-field flex-1",placeholder:"Ex: Vista para o mar, Varanda gourmet, Home office"}),N.features.length>1&&(0,l.jsx)("button",{type:"button",onClick:()=>F(a,"features"),className:"text-red-600 hover:text-red-800",children:(0,l.jsx)(u.Z,{className:"h-5 w-5"})})]},a)),(0,l.jsxs)("button",{type:"button",onClick:()=>w("features"),className:"btn-secondary text-sm",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Caracter\xedstica"]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{if(window.history.length>1)s.back();else{let e=sessionStorage.getItem("lastPreviousPath");e&&"/cadastrar-imovel"!==e?s.push(e):s.push("/")}},className:"btn-secondary",children:"Cancelar"}),(0,l.jsx)("button",{type:"submit",disabled:m,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Cadastrando...":"Cadastrar Im\xf3vel"})]})]})})]})}),(0,l.jsx)(j.default,{})]})}}},function(e){e.O(0,[916,944,403,971,938,744],function(){return e(e.s=9594)}),_N_E=e.O()}]);